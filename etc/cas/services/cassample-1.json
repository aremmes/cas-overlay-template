{
  @class: org.apereo.cas.services.RegexRegisteredService
  serviceId: https://cas-test.coredial.com:9443/sample/.*
  name: cassample
  id: 1
  description: CAS Sample Webapp
  logoutType: FRONT_CHANNEL
  logoutUrl: https://cas-test.coredial.com:9443/sample/logout.jsp
  proxyPolicy:
  {
    @class: org.apereo.cas.services.RefuseRegisteredServiceProxyPolicy
  }
  evaluationOrder: 0
  usernameAttributeProvider:
  {
    @class: org.apereo.cas.services.PrincipalAttributeRegisteredServiceUsernameProvider
    usernameAttribute: mail
    canonicalizationMode: NONE
    encryptUsername: false
  }
  attributeReleasePolicy:
  {
    @class: org.apereo.cas.services.ReturnMappedAttributeReleasePolicy
    allowedAttributes:
    {
        @class: java.util.TreeMap
        gender: gender
        displayName: displayName
        name.givenName: givenName
        name.familyName: surname
        url: url
        image.url: imageUrl
        language: language
        mail: "groovy { return attributes['emails'][0].getEmail() }"
        uid: "groovy { return attributes['emails'][0].getEmail().replaceFirst(/@.*$/,'') }"
    }
    principalAttributesRepository:
    {
      @class: org.apereo.cas.authentication.principal.DefaultPrincipalAttributesRepository
      expiration: 2
      timeUnit: HOURS
    }
    authorizedToReleaseCredentialPassword: false
    authorizedToReleaseProxyGrantingTicket: false
    excludeDefaultAttributes: false
  }
  multifactorPolicy:
  {
    @class: org.apereo.cas.services.DefaultRegisteredServiceMultifactorPolicy
    failureMode: CLOSED
    bypassEnabled: false
  }
  accessStrategy:
  {
    @class: org.apereo.cas.services.DefaultRegisteredServiceAccessStrategy
    enabled: true
    ssoEnabled: true
    requireAllAttributes: true
    caseInsensitive: false
  }
}
