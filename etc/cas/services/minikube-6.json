{
  "@class": "org.apereo.cas.services.OidcRegisteredService",
  "clientId": "minikube",
  "clientIdSecret": "",
  "serviceId": "http://192.168.99.100:30000/",
  "signIdToken": "true",
  "implicit": "false",
  "encryptIdToken": "false",
  "jwks": "somewhereoutthere",
  "name": "minikube",
  "id": 6,
  "description": "Kubernetes Minikube Test",
  "evaluationOrder": 0,
  "scopes": [ "java.util.HashSet", [ "openid", "profile", "email", "address" ] ],
  "usernameAttributeProvider":
  {
    "@class": "org.apereo.cas.services.PrincipalAttributeRegisteredServiceUsernameProvider",
    "usernameAttribute": "mail",
    "canonicalizationMode": "NONE",
    "encryptUsername": "false"
  },
  "attributeReleasePolicy":
  {
    "@class": "org.apereo.cas.services.ReturnMappedAttributeReleasePolicy",
    "allowedAttributes":
    {
        "@class": "java.util.TreeMap",
        "gender": "gender",
        "displayName": "displayName",
        "name.givenName": "givenName",
        "name.familyName": "surname",
        "url": "url",
        "image.url": "imageUrl",
        "language": "language",
        "mail": "groovy { return attributes['emails'][0].getEmail() }",
        "uid": "groovy { return attributes['emails'][0].getEmail().replaceFirst(/@.*$/,'') }"
    },
    "principalAttributesRepository":
    {
      "@class": "org.apereo.cas.authentication.principal.DefaultPrincipalAttributesRepository",
      "expiration": 2,
      "timeUnit": "HOURS"
    },
    "authorizedToReleaseCredentialPassword": "false",
    "authorizedToReleaseProxyGrantingTicket": "false",
    "excludeDefaultAttributes": "false"
  },
  "multifactorPolicy":
  {
    "@class": "org.apereo.cas.services.DefaultRegisteredServiceMultifactorPolicy",
    "failureMode": "CLOSED",
    "bypassEnabled": "false"
  },
  "accessStrategy":
  {
    "@class": "org.apereo.cas.services.DefaultRegisteredServiceAccessStrategy",
    "enabled": "true",
    "ssoEnabled": "true",
    "requireAllAttributes": "true",
    "caseInsensitive": "false"
  }
}
